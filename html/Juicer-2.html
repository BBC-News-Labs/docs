<!doctype html>
<html>
  <head>
    <title>BBC News Labs Documentation</title>
    <meta name="viewport" content="width=device-width"/>
    <link rel="stylesheet" href="http://bootstrap.bbcnewslabs.co.uk/dist/css/bootstrap.min.css"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <style>
      body { 
         overflow-x: hidden;
      }
      h3 {
        padding-bottom: 5px;
        border-bottom: 4px solid #eaeaea;
      }
      @media (max-width: 768px) {
        .jumbotron h1 {
          font-size: 32px;
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar navbar-default navbar-static-top no-margin">
      <div class="container">        
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".header-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><i class="fa fa-home"></i> BBC News Labs Docs</a>
        </div>
        <div class="collapse navbar-collapse header-collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-lg fa-fw fa-file-text"></i> Documentation <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="Juicer.html">Juicer API Documentation</a></li>
                <li><a href="CANDY.html">BBC Content Store API</a></li>
                <li><a href="Locator.html">Locator API</a></li>
              </ul>
            </li>
          </ul>
          <p class="navbar-btn navbar-right"><a href="https://github.com/BBC-News-Labs/docs" target="_blank" class="btn btn-primary navbar-link"><i class="fa fa-lg fa-github"></i> GitHub</a></p>
          <p class="navbar-btn navbar-right" style="margin-right: 5px;"><a href="http://twitter.com/BBC_News_Labs" target="_blank" class="btn btn-primary navbar-link"><i class="fa fa-lg fa-twitter"></i> @BBC_News_Labs</a></p>
        </div>
      </div>
    </div>
    <div class="jumbotron clearfix">
      <div class="container">
       <h1>
          BBC News Labs <strong> Documentation</strong>
       </h1>
       <p>Documentation for BBC News Labs APIs &amp; #newsHACK events</p>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 id="juicer-v2-api-documentation">Juicer v2 API Documentation</h1>
<blockquote>
<p>This is an early release of the new Juicer v2 API. See the <a href="Juicer.html">Juicer v1 API documentation</a> for documentation for original version.</p>
</blockquote>
<h2 id="about-the-juicer">About the Juicer</h2>
<p>The Juicer API allows you search articles by text and filter by concepts, dates, and sources. It also provides aggregations and co-occurrences.</p>
<p><a href="http://www.bbc.co.uk/partnersandsuppliers/connectedstudio/newslabs/projects/juicer.html">Read more about the Juicer</a></p>
<h2 id="api-key">API Key</h2>
<p>You will need a Juicer API Key to access this API. These are the same keys as for the v1.0 API. Keys are available from the BBC News Labs team <a href="http://twitter.com/BBC_News_Labs">BBC News Labs team</a>.</p>
<h2 id="rest-api-endpoints">REST API Endpoints</h2>
<h3 id="1-get-articles">1. Get Articles</h3>
<h4 id="url">URL</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?apikey={apikey}
</code></pre><h4 id="options">Options</h4>
<p>You can filter and sort the articles returned from the <code>articles</code> endpoint. Parameters can be provided in the query string.</p>
<p>Note: arguments must be URLEncoded. For example, the url <code>&quot;http://dbpedia.org/page/Barack_Obama&quot;</code> must be encoded as <code>&quot;http%3A%2F%2Fdbpedia.org%2Fresource%2FBarack_Obama&quot;</code></p>
<p>Available parameters:</p>
<ul>
<li><code>q</code>: keywords to search for. Searches in title, description and body of the article.</li>
<li><code>sources[]</code>: scopes the results to certain sources. Multiple products can be specified by adding multiple <code>sources[]</code> values. The parameter is a number that correspond to a <em>source id</em>.</li>
<li><code>facets[]</code>:  filter the results by facets. The facets parameter is a URL-Encoded resource from dbpedia. Multiple facets can be specified by adding multiple <code>facets[]</code> keys and values. The parameter is a string and it refers to a dbpedia resource.</li>
<li><code>size</code>: number of results to be returned. The parameter is a number.</li>
<li><code>offset</code>: number of results to skip. It can be used with <code>size</code> for pagination. The parameter is a number.</li>
<li><code>published_after</code>: fetch articles published after a date. The date format is in UTC. Ex:
<code>2015-02-02T00:00:00.000Z</code>.</li>
<li><code>published_before</code>: fetch articles published before a date. The date format is in UTC. Ex:
<code>2015-02-02T00:00:00.000Z</code>.</li>
<li><code>recent_first</code>: Sort results by date (with most recent first) instead of by relevance to keywords. The parameter can be either <code>yes</code> or empty.</li>
<li><code>like-text</code>: Return a list of articles with a text similar to the parameter. The <code>like-text</code> parameter is a string.</li>
<li><code>like-ids[]</code>: Return a list of articles similar to other articles. The parameter is a string (internal id).</li>
</ul>
<p>All parameters are optional. If parameters are omitted, the endpoint will just return the latest articles.</p>
<h4 id="example-request">Example Request</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?q=London&amp;apikey={apikey}
</code></pre><h4 id="complex-query-example">Complex Query Example</h4>
<p>The Juicer supports doing complex queries across multiple sources. For example, the following query uses the search phrase <code>kenya OR nairobi AND (government OR &quot;Uhuru Kenyatta&quot;)</code> which returns articles that match that specific query.</p>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?q=kenya%20OR%20nairobi%20AND%20(government%20OR%20%22Uhuru%20Kenyatta%22)&amp;apikey={apikey}
</code></pre><h3 id="2-get-article">2. Get Article</h3>
<p>You can get the full text of a specific article by using its <code>id</code>.</p>
<h4 id="url">URL</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles/{{article-id}}?apikey={apikey}
</code></pre><h4 id="example-request">Example Request</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles/792c35d51f3f8d3c01bf74d940aaf4e2893fc968
</code></pre><h3 id="2-get-similar-articles">2. Get Similar Articles</h3>
<p>You can get a list of similar articles by using  <code>like-ids</code>.</p>
<h4 id="url">URL</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?like-ids[]={article-id}&amp;apikey={apikey}
</code></pre><h4 id="example-request">Example Request</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?like-ids[]=792c35d51f3f8d3c01bf74d940aaf4e2893fc968&amp;apikey={apikey}
</code></pre><h4 id="3-get-articles-from-a-source">3. Get Articles from a Source</h4>
<p>Get a list of articles from a source</p>
<h4 id="example-request">Example request</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?sources[]=1&amp;apikey={apikey}
</code></pre><p>Get a list of articles from two different sources:</p>
<h4 id="example-request">Example request</h4>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?sources[]=1&amp;sources[]=2&amp;apikey={apikey}
</code></pre><h4 id="4-filter-by-facets">4.Filter by Facets</h4>
<p>Get a list of Articles filtered by a list of facets.</p>
<p>Example, we want to filter by</p>
<pre><code>* http://dbpedia.org/resource/David_Cameron
* http://dbpedia.org/resource/Liberal_Democrats
* http://dbpedia.org/resource/United_Kingdom
</code></pre><pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/articles?facets[]=http%3A%2F%2Fdbpedia.org%2Fresource%2FDavid_Cameron&amp;facets[]=http%3A%2F%2Fdbpedia.org%2Fresource%2FLiberal_Democrats&amp;facets[]=http%3A%2F%2Fdbpedia.org%2Fresource%2FUnited_Kingdom&amp;apikey={apikey}
</code></pre><h3 id="5-get-sources">5. Get Sources</h3>
<p>Get the a list of <code>sources</code> currently indexed and avalible from the Juicer. Sources are newspapers, broadcast TV channels and other sources.</p>
<p>Available parameters:</p>
<ul>
<li><code>name</code>: keyword to search for. It searches in name of the source.</li>
</ul>
<h4 id="example-request">Example request</h4>
<p>Get all sources:</p>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/sources&amp;apikey={apikey}
</code></pre><p>Get all sources by name: </p>
<pre><code>http://data.test.bbc.co.uk/bbcrd-juicer/sources?name=sun&amp;apikey={apikey}
</code></pre>
          <hr/>
          <h2><i class="fa fa-comments"></i> Questions and Feedback</h2>
          <p>
            <i>All comments are moderated for approval.</i>
          </p>
          <div id="disqus_thread"></div>
          <script type="text/javascript">
              /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
              var disqus_shortname = 'bbcnewslabs'; // required: replace example with your forum shortname

              /* * * DON'T EDIT BELOW THIS LINE * * */
              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>
    </div>
  </body>
</html>