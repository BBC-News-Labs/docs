<!doctype html>
<html>
  <head>
    <title>BBC News Labs Documentation</title>
    <meta name="viewport" content="width=device-width"/>
    <link rel="stylesheet" href="http://bootstrap.bbcnewslabs.co.uk/dist/css/bootstrap.min.css"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <style>
      body { 
         overflow-x: hidden;
      }
      h3 {
        padding-bottom: 5px;
        border-bottom: 4px solid #eaeaea;
      }
      @media (max-width: 768px) {
        .jumbotron h1 {
          font-size: 32px;
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar navbar-default navbar-static-top no-margin">
      <div class="container">        
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".header-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><i class="fa fa-home"></i> BBC News Labs Docs</a>
        </div>
        <div class="collapse navbar-collapse header-collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-lg fa-fw fa-file-text"></i> Documentation <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="Juicer.html">Juicer API Documentation</a></li>
                <li><a href="CANDY.html">BBC Content Store API</a></li>
                <li><a href="Locator.html">Locator API</a></li>
              </ul>
            </li>
          </ul>
          <p class="navbar-btn navbar-right"><a href="https://github.com/BBC-News-Labs/docs" target="_blank" class="btn btn-primary navbar-link"><i class="fa fa-lg fa-github"></i> GitHub</a></p>
          <p class="navbar-btn navbar-right" style="margin-right: 5px;"><a href="http://twitter.com/BBC_News_Labs" target="_blank" class="btn btn-primary navbar-link"><i class="fa fa-lg fa-twitter"></i> @BBC_News_Labs</a></p>
        </div>
      </div>
    </div>
    <div class="jumbotron clearfix">
      <div class="container">
       <h1>
          BBC News Labs <strong> Documentation</strong>
       </h1>
       <p>Documentation for BBC News Labs APIs &amp; #newsHACK events</p>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 id="travel-api-documentation">Travel API Documentation</h1>
<h2 id="about-travel">About Travel</h2>
<p>The Travel service is a HTTP API that allows you to discover real-time travel incidents throughout the UK.  The Travel API can be queried by <a href="./Locator.html#locations">location</a>, post code district, BBC News region or public transport operator.</p>
<h3 id="core-concepts">Core Concepts</h3>
<h4 id="travel-incidents">Travel Incidents</h4>
<p>A travel incident entity is either a road, rail, light rail or ferry event with the potential to disrupt a person&#39;s journey.  Each travel incident has a set of properties such as id, summary, severity, mode, type, statues (live or planned), locations, start time, stop time and update time.</p>
<p>The summary provides a description of the location, cause and impact of the incident is having on the surrounding area.</p>
<p>The severity provides context to the scale of impact.  The severity will have one of the following values:</p>
<ul>
<li>Very slight</li>
<li>Slight</li>
<li>Medium</li>
<li>Severe</li>
<li>Very severe</li>
</ul>
<p>The mode describes the mode of transport the event is affecting.  The mode will have one of the following values:</p>
<ul>
<li>Road</li>
<li>Rail</li>
<li>Light rail</li>
<li>Ferry</li>
</ul>
<p>The type describes the type of event occurring.  For example, a road incident can be of type &#39;roadworks&#39;, &#39;accident&#39;, &#39;congestion&#39; or &#39;disruption&#39;.</p>
<p>The statuses lists the current state of an event.  A planned incident is one that is not currently occurring (e.g. planned engineering works on the rail network).  However, a planned incident can become live when the roadworks or engineering works start.</p>
<p>A travel incident can have one or two locations.  Each location has a latitude, longitude, qualifier and a set of descriptors.  The qualifier helps describe the relationship between the locations (e.g. &#39;Between&#39;, &#39;And&#39;, or &#39;At&#39;) whilst the descriptors provide information such as road name and town name.  The descriptors vary based on the type of incidents.</p>
<p>Rail and Light rail incidents have additional properties such as their operator (e.g. TfL).</p>
<p>We provide mechanisms by which you may discover incidents (e.g. <a href="./Locator.html#locations">location</a>, post code district, BBC News region or public transport operator).</p>
<h4 id="location">Location</h4>
<p>Locations within the Travel API are closely linked to the <a href="./Locator.html#locations">locations in the Locator API</a>.  Querying the Travel API by location will return a summary of location and all travel incidents occuring at this location.  The location in the response contains the properties such as id, latitude, longitude, name, container.  In addition to these properties some locations have nearby rail stations, light rail stations and ferry ports.  Stations and ports have a unique code and name.</p>
<h2 id="travel-postman-collection">Travel Postman Collection</h2>
<p>If you install the free <a href="https://www.getpostman.com">Postman REST Client</a> you can import the Travel API into using this URL:</p>
<p><strong><a href="https://www.getpostman.com/collections/8c9e9a7d1f142c477181">https://www.getpostman.com/collections/8c9e9a7d1f142c477181</a></strong></p>
<p>This allows you to easily try out the API and explore how it works without writing any code.</p>
<!--#You will need to configure an "Environment" within Postman to be able to make calls. You will need to set a host parameter with value http://travel-newshack-api.cloud.bbc.co.uk/ and an apikey.-->
<p><img src=" ./img/travel-postman.png" height="300" /></p>
<h2 id="rest-api-endpoints">REST API Endpoints</h2>
<h3 id="1-location">1. Location</h3>
<p>Used to discover incidents for a <a href="./Locator.html#locations">location</a></p>
<h4 id="url">URL</h4>
<pre><code>http://travel-newshack-api.cloud.bbc.co.uk/location/:location_id/incidents
</code></pre><h5 id="examples">Examples</h5>
<h6 id="search-for-incidents-near-a-location">Search for incidents near a location</h6>
<p><a href="http://travel-newshack-api.cloud.bbc.co.uk/location/2636432/incidents">http://travel-newshack-api.cloud.bbc.co.uk/location/2636432/incidents</a></p>
<h6 id="search-for-incidents-near-a-post-code">Search for incidents near a post code</h6>
<p><a href="http://travel-newshack-api.cloud.bbc.co.uk/location/CF24/incidents">http://travel-newshack-api.cloud.bbc.co.uk/location/CF24/incidents</a></p>
<h4 id="parameters">Parameters</h4>
<p>The location is passed to the Travel API in the URL.  In the sample URL we&#39;ve denoted named this <code>location_id</code>.  The location_id parameter can either be a Geoname ID or a post code.  The Geoname ID can be obtained from the <a href="./Locator.html">Locator API</a>.  We&#39;ve compiled a <a href="./Travel/sample-locations.html">list of sample list of locations</a> within the UK but locaations can be dynamically retrieved from the Locator API.</p>
<h3 id="2-bbc-news-region">2. BBC News region</h3>
<p>Allows you to ask for incidents occurring within a BBC News region.</p>
<h4 id="url">URL</h4>
<pre><code>http://travel-newshack-api.cloud.bbc.co.uk/news/:news_region
</code></pre><h4 id="examples">Examples</h4>
<h6 id="search-for-incidents-within-a-bbc-news-region">Search for incidents within a BBC News region</h6>
<p><a href="http://travel-newshack-api.cloud.bbc.co.uk/news/northeastwales">http://travel-newshack-api.cloud.bbc.co.uk/news/northeastwales</a></p>
<h4 id="parameters">Parameters</h4>
<p>The BBC News region is passed to the Travel API in the URL.  In the sample URL we&#39;ve named this <code>news_region</code>.  We&#39;ve made available a <a href="./Travel/bbc-news-regions.html">list of  BBC News regions</a> in the Travel API.  BBC News regions are also available from the <a href="./Locator.html">Locator API</a>.</p>
<h3 id="3-public-transport-operators">3. Public Transport Operators</h3>
<p>Allows you to ask for incidents occurring for a public transport operator</p>
<h4 id="url">URL</h4>
<pre><code>http://travel-newshack-api.cloud.bbc.co.uk/tags/operator/:operator/incidents
</code></pre><h4 id="examples">Examples</h4>
<h6 id="search-for-incidents-within-a-bbc-news-region">Search for incidents within a BBC News region</h6>
<p><a href="http://travel-newshack-api.cloud.bbc.co.uk/tags/operator/crosscountry/incidents">http://travel-newshack-api.cloud.bbc.co.uk/tags/operator/crosscountry/incidents</a></p>
<h4 id="parameters">Parameters</h4>
<p>The public transport operator is passed to the Travel API in the URL.  In the sample URL we&#39;ve named this <code>operator</code>, we&#39;ve made available the <a href="./Travel/public-transport-operators.html">full list of available operators</a>.</p>

          <hr/>
          <h2><i class="fa fa-comments"></i> Questions and Feedback</h2>
          <p>
            <i>All comments are moderated for approval.</i>
          </p>
          <div id="disqus_thread"></div>
          <script type="text/javascript">
              /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
              var disqus_shortname = 'bbcnewslabs'; // required: replace example with your forum shortname

              /* * * DON'T EDIT BELOW THIS LINE * * */
              (function() {
                  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
              })();
          </script>
          <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
      </div>
    </div>
  </body>
</html>