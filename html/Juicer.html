<!doctype html>
<html>
  <head>
    <title>BBC News Labs Documentation</title>
    <meta name="viewport" content="width=device-width">
    <link rel="stylesheet" href="http://bootstrap.bbcnewslabs.co.uk/dist/css/bootstrap.min.css"/>
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"/>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.0.0/jquery.min.js"></script>
    <script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script>
    <style>
      h3 {
        padding-bottom: 5px;
        border-bottom: 4px solid #eaeaea;
      }
      @media (max-width: 768px) {
        .jumbotron h1 {
          font-size: 32px;
        }
      }
    </style>
  </head>
  <body>
    <div class="navbar navbar-default navbar-static-top no-margin">
      <div class="container">        
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".header-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html"><i class="fa fa-home"></i> Documentation Home</a>
        </div>
        <div class="collapse navbar-collapse header-collapse">
          <ul class="nav navbar-nav">
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-lg fa-fw fa-file-text"></i> Documentation <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="Juicer.html">Juicer API Documentation</a></li>
                <li><a href="CANDY.html">BBC Content Store API</a></li>
              </ul>
            </li>
          </ul>
          <p class="navbar-btn navbar-right"><a href="https://github.com/BBC-News-Labs/docs" target="_blank" class="btn btn-primary navbar-link"><i class="fa fa-lg fa-github"></i> GitHub</a></p>
          <p class="navbar-btn navbar-right" style="margin-right: 5px;"><a href="http://twitter.com/BBC_News_Labs" target="_blank" class="btn btn-primary navbar-link"><i class="fa fa-lg fa-twitter"></i> @BBC_News_Labs</a></p>
        </div>
      </div>
    </div>
    <div class="jumbotron clearfix">
      <div class="container">
       <h1>
          BBC News Labs <strong> Documentation</strong>
       </h1>
       <p><small>Last updated: <strong>2015-01-28 13:25:49</strong></small></p>
      </div>
    </div>
    <div class="container">
      <div class="row">
        <div class="col-md-12">
          <h1 id="juicer-api-documentation">Juicer API Documentation</h1>
<h2 id="about-the-juicer">About the Juicer</h2>
<p>The BBC Labs News Juicer is the software responsible for fetching content from the web – articles, videos and images from the BBC, other news sites, Twitter, etc. – parsing content and tagging it with people, organisations and places that correspond to DBpedia entries.</p>
<p>The public Juicer API allows you to specify start and end dates for articles, select which sources or concepts you wish to search for and to free text search in real time, as articles, tweets and other content is ingested.</p>
<p><a href="http://www.bbc.co.uk/partnersandsuppliers/connectedstudio/newslabs/projects/juicer.html">Read more about the Juicer</a></p>
<h2 id="juicer-client-libraries">Juicer Client Libraries</h2>
<ul>
<li>There is a Juicer client library for node.js called <a href="https://www.npmjs.com/package/newsquery">newsQuery</a></li>
<li>There is also a <a href="https://rubygems.org/gems/juicer-client">Juicer client GEM for Ruby</a></li>
</ul>
<p>If you are not using Ruby or Node.JS (or just want to use the REST API directly) see the documentation for REST API endpoints below.</p>
<h2 id="rest-api-endpoints">REST API Endpoints</h2>
<h3 id="1-get-articles">1. Get Articles</h3>
<h4 id="url">URL</h4>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/articles.json
</code></pre><h4 id="options">Options</h4>
<p>You can filter and sort the articles returned from the <code>articles</code> endpoint. Parameters can be provided in the query string.</p>
<p>Available parameters:</p>
<ul>
<li><code>text</code>: keywords to search for. Searches in title, description and body of the article.</li>
<li><code>product[]</code>: scopes the results to certain products. Multiple products can be specified by adding multiple <code>product[]</code> keys and values. Just specify &#39;NewsWeb&#39; to return only BBC News articles.</li>
<li><code>content_format[]</code>: scopes the results to certain formats. Multiple formats can be specified by adding multiple <code>content_format[]</code> keys and values.</li>
<li><code>section[]</code>: scopes the results to certain sections. Multiple sections can be specified by adding multiple <code>section[]</code> keys and values.</li>
<li><code>site[]</code>: scopes the results to certain sites. Multiple sites can be specified by adding multiple <code>site[]</code> keys and values.</li>
<li><code>published_after</code>: fetch articles published after <code>published_after</code>. The date format is <code>yyyy-mm-yy</code>.</li>
<li><code>published_before</code>: fetch articles published before <code>published_before</code>. The date format is <code>yyyy-mm-yy</code>.</li>
<li><code>recent_first</code>: Specify &#39;yes&#39; to sort results by date (with most recent first) instead of by relevance to keywords.</li>
</ul>
<p>All parameters are optional. If parameters are omitted, the endpoint will just return the latest articles.</p>
<h4 id="example-request">Example Request</h4>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/articles.json?text=London&amp;product[]=NewsWeb&amp;content_format[]=TextualFormat&amp;recent_first=yes&amp;apikey={{apikey}}
</code></pre><h4 id="complex-query-example">Complex Query Example</h4>
<p>The Juicer supports doing complex queries across multiple sources. For example, the following query uses the search phrase <code>kenya OR nairobi AND (government OR president OR &quot;Uhuru Kenyatta&quot;)</code> which returns articles only from the listed products that match that specific query.</p>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/articles.json?&amp;text=kenya+OR+nairobi+AND+%28government+OR+president+OR+%22Uhuru+Kenyatta%22%29&amp;product[]=DailyNewsEgypt&amp;product[]=KenyaBroadcastingCorporation&amp;product[]=TechMoran&amp;product[]=NigerDeltaStandard&amp;product[]=NationalElectionCommissionSudan&amp;content_format[]=TextualFormat&amp;recent_first=yes&amp;apikey={{apikey}}
</code></pre><h3 id="2-get-article">2. Get Article</h3>
<p>You can get the full text of a specific article by using it&#39;s <code>id</code> (this property is sometimes called the <code>cps_id</code>).</p>
<h4 id="url">URL</h4>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/articles/{{article-id}}.json
</code></pre><h4 id="example-request">Example Request</h4>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/articles/news_web_5da5811f84a8c718689bbb831f0098bc4c5e4a1c.json?apikey={{apikey}}
</code></pre><h3 id="3-get-products">3. Get Products</h3>
<p>Get the a list of <code>products</code> currently indexed and avalible from the Juicer.</p>
<p>&quot;Products&quot; are newspapers, broadcast TV channels and other sources.</p>
<p>To return only BBC News articles, specify <code>product[]=NewsWeb</code> when calling <code>articles.json</code>.</p>
<h4 id="url">URL</h4>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/products.json
</code></pre><h4 id="example-request">Example Request</h4>
<pre><code>http://data.bbc.co.uk/bbcrd-juicer/products.json?apikey={{apikey}}
</code></pre>
        </div>
      </div>
    </div>
  </body>
</html>